<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï≤¥Ïä§ Í≤åÏûÑ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 25%, #5d6d7e 50%, #85929e 75%, #aeb6bf 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            overflow-x: hidden;
            overflow-y: auto;
            padding: 10px;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .game-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 90%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
        }

        .turn-indicator {
            font-size: 1.2em;
            font-weight: bold;
        }

        .turn-indicator.white {
            color: #ecf0f1;
        }

        .turn-indicator.black {
            color: #2c3e50;
        }

        .move-count {
            font-size: 1.1em;
        }

        .chess-board {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(8, 1fr);
            gap: 0;
            width: min(560px, 90vw);
            aspect-ratio: 1 / 1;
            margin: 0 auto 20px auto;
            border: 3px solid #8b4513;
            border-radius: 10px;
            overflow: hidden;
            max-width: 560px;
        }

        .square {
            width: 100%;
            height: 100%;
            aspect-ratio: 1 / 1;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: min(2.5em, 8vw);
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            -webkit-tap-highlight-color: transparent;
        }

        .square.white {
            background: #f0d9b5;
        }

        .square.black {
            background: #b58863;
        }

        .square.selected {
            background: #ffd700 !important;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .square.valid-move {
            background: #90ee90 !important;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .square.check {
            background: #ff6b6b !important;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 107, 107, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0); }
        }

        .piece {
            transition: all 0.2s ease;
            user-select: none;
        }

        .piece:hover {
            transform: scale(1.1);
        }

        /* Ìùë Í∏∞Î¨º Ïä§ÌÉÄÏùº */
        .piece.black {
            color: #2c3e50;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        /* Î∞± Í∏∞Î¨º Ïä§ÌÉÄÏùº */
        .piece.white {
            color: #ecf0f1;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            min-height: 44px;
            touch-action: manipulation;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .music-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.5em;
            color: white;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .music-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Î™®Î∞îÏùº ÏµúÏ†ÅÌôî */
        @media (max-width: 768px) {
            body {
                padding: 5px;
            }
            
            .game-container {
                padding: 15px;
                width: 95%;
                min-height: auto;
            }
            
            h1 {
                font-size: 1.8em;
                margin-bottom: 10px;
            }
            
            .game-info {
                padding: 10px;
                margin-bottom: 10px;
                flex-direction: column;
                gap: 5px;
            }
            
            .turn-indicator {
                font-size: 1em;
            }
            
            .move-count {
                font-size: 0.9em;
            }
            
            .chess-board {
                width: min(400px, 95vw);
                aspect-ratio: 1 / 1;
                margin: 0 auto 10px auto;
            }
            
            .square {
                font-size: min(2em, 8vw);
            }
            
            .controls {
                gap: 8px;
            }
            
            .btn {
                padding: 8px 16px;
                font-size: 0.85em;
                min-height: 44px;
            }
        }

        @media (max-width: 480px) {
            .game-container {
                padding: 10px;
                width: 98%;
            }
            
            h1 {
                font-size: 1.5em;
            }
            
            .chess-board {
                width: 98vw;
                aspect-ratio: 1 / 1;
            }
            
            .square {
                font-size: min(1.6em, 10vw);
            }
            
            .btn {
                padding: 6px 12px;
                font-size: 0.8em;
                min-height: 40px;
            }
        }

        .game-over {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .game-over-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .game-over h2 {
            font-size: 2em;
            margin-bottom: 20px;
        }

        .winner {
            font-size: 1.5em;
            margin-bottom: 30px;
            color: #f9ca24;
        }

        .share-section {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }

        .share-title {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #f9ca24;
        }

        .share-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            background: #2196F3;
            color: white;
        }

        .share-btn:hover {
            background: #1976D2;
            transform: translateY(-2px);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 1.1em;
            z-index: 2000;
            display: none;
        }


    </style>
</head>
<body>
    <button class="music-toggle" onclick="toggleMusic()">üéµ</button>
    
    <div class="game-container">
        
        <div class="game-info">
            <div class="turn-indicator" id="turn-indicator">Î∞± Ï∞®Î°Ä</div>
            <div class="move-count">Ïù¥Îèô ÌöüÏàò: <span id="move-count">0</span></div>
        </div>
        
        <div class="chess-board" id="chess-board"></div>
        
        <div class="controls">
            <button class="btn btn-primary" onclick="resetGame()">ÏÉà Í≤åÏûÑ</button>
            <button class="btn btn-secondary" onclick="undoMove()">Î¨¥Î•¥Í∏∞</button>
            <a href="../../" class="btn btn-secondary">Î©îÏù∏ÏúºÎ°ú</a>
        </div>
    </div>

    <div class="game-over" id="game-over">
        <div class="game-over-content">
            <h2>Í≤åÏûÑ Ï¢ÖÎ£å!</h2>
            <div class="winner" id="winner-text">Î∞±Ïù¥ ÏäπÎ¶¨ÌñàÏäµÎãàÎã§!</div>
            <div class="controls">
                <button class="btn btn-primary" onclick="restartGame()">Îã§Ïãú ÌïòÍ∏∞</button>
                <a href="../../" class="btn btn-secondary">Îã§Î•∏ Í≤åÏûÑ</a>
            </div>
            
            <div class="share-section">
                <div class="share-title">üéØ ÏπúÍµ¨Îì§ÏóêÍ≤å ÎèÑÏ†ÑÌï¥Î≥¥ÏÑ∏Ïöî!</div>
                <button class="share-btn" onclick="copyToClipboard()">
                    üìã Í≤∞Í≥º Î≥µÏÇ¨ÌïòÍ∏∞
                </button>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copy-success">
        ÌÖçÏä§Ìä∏Í∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§! üìã
    </div>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>

    <script>
        // Ï≤¥Ïä§ Í≤åÏûÑ ÏÉÅÌÉú
        let board = [];
        let selectedPiece = null;
        let validMoves = [];
        let currentPlayer = 'white';
        let moveCount = 0;
        let moveHistory = [];
        let musicPlaying = false;

        // Ï≤¥Ïä§ Í∏∞Î¨º Ï¥àÍ∏∞ Î∞∞Ïπò
        const initialBoard = [
            ['‚ôú', '‚ôû', '‚ôù', '‚ôõ', '‚ôö', '‚ôù', '‚ôû', '‚ôú'],
            ['‚ôü', '‚ôü', '‚ôü', '‚ôü', '‚ôü', '‚ôü', '‚ôü', '‚ôü'],
            ['', '', '', '', '', '', '', ''],
            ['', '', '', '', '', '', '', ''],
            ['', '', '', '', '', '', '', ''],
            ['', '', '', '', '', '', '', ''],
            ['‚ôô', '‚ôô', '‚ôô', '‚ôô', '‚ôô', '‚ôô', '‚ôô', '‚ôô'],
            ['‚ôñ', '‚ôò', '‚ôó', '‚ôï', '‚ôî', '‚ôó', '‚ôò', '‚ôñ']
        ];

        // Í∏∞Î¨º Ï†ïÎ≥¥
        const pieces = {
            '‚ôî': { name: 'Î∞± ÌÇπ', color: 'white', value: 1000 },
            '‚ôï': { name: 'Î∞± ÌÄ∏', color: 'white', value: 9 },
            '‚ôñ': { name: 'Î∞± Î£©', color: 'white', value: 5 },
            '‚ôó': { name: 'Î∞± ÎπÑÏàç', color: 'white', value: 3 },
            '‚ôò': { name: 'Î∞± ÎÇòÏù¥Ìä∏', color: 'white', value: 3 },
            '‚ôô': { name: 'Î∞± Ìè∞', color: 'white', value: 1 },
            '‚ôö': { name: 'Ìùë ÌÇπ', color: 'black', value: 1000 },
            '‚ôõ': { name: 'Ìùë ÌÄ∏', color: 'black', value: 9 },
            '‚ôú': { name: 'Ìùë Î£©', color: 'black', value: 5 },
            '‚ôù': { name: 'Ìùë ÎπÑÏàç', color: 'black', value: 3 },
            '‚ôû': { name: 'Ìùë ÎÇòÏù¥Ìä∏', color: 'black', value: 3 },
            '‚ôü': { name: 'Ìùë Ìè∞', color: 'black', value: 1 }
        };

        // Í∞úÎ∞úÏûê ÎèÑÍµ¨ Ï∞®Îã®
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I') || 
                (e.ctrlKey && e.shiftKey && e.key === 'C') || (e.ctrlKey && e.key === 'U')) {
                e.preventDefault();
                return false;
            }
        });

        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // ÏùåÏïÖ ÌÜ†Í∏Ä
        function toggleMusic() {
            const music = document.getElementById('bgMusic');
            if (musicPlaying) {
                music.pause();
                musicPlaying = false;
            } else {
                music.play();
                musicPlaying = true;
            }
        }

        // Í≤åÏûÑ Ï¥àÍ∏∞Ìôî
        function initGame() {
            board = JSON.parse(JSON.stringify(initialBoard));
            selectedPiece = null;
            validMoves = [];
            currentPlayer = 'white';
            moveCount = 0;
            moveHistory = [];
            renderBoard();
            updateUI();
        }

        // Î≥¥Îìú Î†åÎçîÎßÅ
        function renderBoard() {
            const boardElement = document.getElementById('chess-board');
            boardElement.innerHTML = '';

            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = `square ${(row + col) % 2 === 0 ? 'white' : 'black'}`;
                    square.dataset.row = row;
                    square.dataset.col = col;

                    const piece = board[row][col];
                    if (piece) {
                        const pieceElement = document.createElement('div');
                        pieceElement.className = `piece ${pieces[piece].color}`;
                        pieceElement.textContent = piece;
                        square.appendChild(pieceElement);
                    }

                    // ÏÑ†ÌÉùÎêú Í∏∞Î¨º ÌïòÏù¥ÎùºÏù¥Ìä∏
                    if (selectedPiece && selectedPiece.row === row && selectedPiece.col === col) {
                        square.classList.add('selected');
                    }

                    // Ïú†Ìö®Ìïú Ïù¥Îèô ÏúÑÏπò ÌïòÏù¥ÎùºÏù¥Ìä∏
                    if (validMoves.some(move => move.row === row && move.col === col)) {
                        square.classList.add('valid-move');
                    }

                    square.addEventListener('click', () => handleSquareClick(row, col));
                    boardElement.appendChild(square);
                }
            }
        }

        // ÏÇ¨Í∞ÅÌòï ÌÅ¥Î¶≠ Ï≤òÎ¶¨
        function handleSquareClick(row, col) {
            const piece = board[row][col];
            
            // Í∏∞Î¨º ÏÑ†ÌÉù
            if (piece && pieces[piece].color === currentPlayer) {
                selectedPiece = { row, col, piece };
                validMoves = getValidMoves(row, col);
                renderBoard();
                return;
            }

            // Ïù¥Îèô Ïã§Ìñâ
            if (selectedPiece && validMoves.some(move => move.row === row && move.col === col)) {
                const fromRow = selectedPiece.row;
                const fromCol = selectedPiece.col;
                const capturedPiece = board[row][col];

                // Ïù¥Îèô Í∏∞Î°ù
                moveHistory.push({
                    from: { row: fromRow, col: fromCol },
                    to: { row, col },
                    piece: selectedPiece.piece,
                    captured: capturedPiece
                });

                // Í∏∞Î¨º Ïù¥Îèô
                board[row][col] = selectedPiece.piece;
                board[fromRow][fromCol] = '';

                // Ìè∞ ÏäπÍ∏â
                if (selectedPiece.piece === '‚ôô' && row === 0) {
                    board[row][col] = '‚ôï';
                } else if (selectedPiece.piece === '‚ôü' && row === 7) {
                    board[row][col] = '‚ôõ';
                }

                selectedPiece = null;
                validMoves = [];
                currentPlayer = currentPlayer === 'white' ? 'black' : 'white';
                moveCount++;

                renderBoard();
                updateUI();

                // Ï≤¥ÌÅ¨Î©îÏù¥Ìä∏ ÌôïÏù∏
                if (isCheckmate()) {
                    showGameOver();
                }
            }
        }

        // Ïú†Ìö®Ìïú Ïù¥Îèô ÏúÑÏπò Í≥ÑÏÇ∞
        function getValidMoves(row, col) {
            const piece = board[row][col];
            if (!piece) return [];

            const moves = [];
            const pieceInfo = pieces[piece];

            switch (piece) {
                case '‚ôî': // Î∞± ÌÇπ
                case '‚ôö': // Ìùë ÌÇπ
                    for (let dr = -1; dr <= 1; dr++) {
                        for (let dc = -1; dc <= 1; dc++) {
                            if (dr === 0 && dc === 0) continue;
                            const newRow = row + dr;
                            const newCol = col + dc;
                            if (isValidPosition(newRow, newCol) && canMoveTo(newRow, newCol, pieceInfo.color)) {
                                moves.push({ row: newRow, col: newCol });
                            }
                        }
                    }
                    break;

                case '‚ôï': // Î∞± ÌÄ∏
                case '‚ôõ': // Ìùë ÌÄ∏
                    moves.push(...getRookMoves(row, col, pieceInfo.color));
                    moves.push(...getBishopMoves(row, col, pieceInfo.color));
                    break;

                case '‚ôñ': // Î∞± Î£©
                case '‚ôú': // Ìùë Î£©
                    moves.push(...getRookMoves(row, col, pieceInfo.color));
                    break;

                case '‚ôó': // Î∞± ÎπÑÏàç
                case '‚ôù': // Ìùë ÎπÑÏàç
                    moves.push(...getBishopMoves(row, col, pieceInfo.color));
                    break;

                case '‚ôò': // Î∞± ÎÇòÏù¥Ìä∏
                case '‚ôû': // Ìùë ÎÇòÏù¥Ìä∏
                    const knightMoves = [
                        [-2, -1], [-2, 1], [-1, -2], [-1, 2],
                        [1, -2], [1, 2], [2, -1], [2, 1]
                    ];
                    for (const [dr, dc] of knightMoves) {
                        const newRow = row + dr;
                        const newCol = col + dc;
                        if (isValidPosition(newRow, newCol) && canMoveTo(newRow, newCol, pieceInfo.color)) {
                            moves.push({ row: newRow, col: newCol });
                        }
                    }
                    break;

                case '‚ôô': // Î∞± Ìè∞
                    if (row > 0 && board[row - 1][col] === '') {
                        moves.push({ row: row - 1, col });
                        if (row === 6 && board[row - 2][col] === '') {
                            moves.push({ row: row - 2, col });
                        }
                    }
                    // ÎåÄÍ∞ÅÏÑ† Í≥µÍ≤©
                    for (const dc of [-1, 1]) {
                        const newCol = col + dc;
                        if (isValidPosition(row - 1, newCol) && 
                            board[row - 1][newCol] && 
                            pieces[board[row - 1][newCol]].color === 'black') {
                            moves.push({ row: row - 1, col: newCol });
                        }
                    }
                    break;

                case '‚ôü': // Ìùë Ìè∞
                    if (row < 7 && board[row + 1][col] === '') {
                        moves.push({ row: row + 1, col });
                        if (row === 1 && board[row + 2][col] === '') {
                            moves.push({ row: row + 2, col });
                        }
                    }
                    // ÎåÄÍ∞ÅÏÑ† Í≥µÍ≤©
                    for (const dc of [-1, 1]) {
                        const newCol = col + dc;
                        if (isValidPosition(row + 1, newCol) && 
                            board[row + 1][newCol] && 
                            pieces[board[row + 1][newCol]].color === 'white') {
                            moves.push({ row: row + 1, col: newCol });
                        }
                    }
                    break;
            }

            return moves;
        }

        // Î£© Ïù¥Îèô
        function getRookMoves(row, col, color) {
            const moves = [];
            const directions = [[-1, 0], [1, 0], [0, -1], [0, 1]];
            
            for (const [dr, dc] of directions) {
                let newRow = row + dr;
                let newCol = col + dc;
                
                while (isValidPosition(newRow, newCol)) {
                    const targetPiece = board[newRow][newCol];
                    if (targetPiece === '') {
                        moves.push({ row: newRow, col: newCol });
                    } else {
                        if (pieces[targetPiece].color !== color) {
                            moves.push({ row: newRow, col: newCol });
                        }
                        break;
                    }
                    newRow += dr;
                    newCol += dc;
                }
            }
            
            return moves;
        }

        // ÎπÑÏàç Ïù¥Îèô
        function getBishopMoves(row, col, color) {
            const moves = [];
            const directions = [[-1, -1], [-1, 1], [1, -1], [1, 1]];
            
            for (const [dr, dc] of directions) {
                let newRow = row + dr;
                let newCol = col + dc;
                
                while (isValidPosition(newRow, newCol)) {
                    const targetPiece = board[newRow][newCol];
                    if (targetPiece === '') {
                        moves.push({ row: newRow, col: newCol });
                    } else {
                        if (pieces[targetPiece].color !== color) {
                            moves.push({ row: newRow, col: newCol });
                        }
                        break;
                    }
                    newRow += dr;
                    newCol += dc;
                }
            }
            
            return moves;
        }

        // ÏúÑÏπò Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨
        function isValidPosition(row, col) {
            return row >= 0 && row < 8 && col >= 0 && col < 8;
        }

        // Ïù¥Îèô Í∞ÄÎä•ÏÑ± Í≤ÄÏÇ¨
        function canMoveTo(row, col, color) {
            const targetPiece = board[row][col];
            return !targetPiece || pieces[targetPiece].color !== color;
        }

        // Ï≤¥ÌÅ¨Î©îÏù¥Ìä∏ ÌôïÏù∏ (Í∞ÑÎã®Ìïú Î≤ÑÏ†Ñ)
        function isCheckmate() {
            // ÌÇπÏù¥ Ïû°ÌòîÎäîÏßÄ ÌôïÏù∏
            let whiteKing = false;
            let blackKing = false;
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    if (board[row][col] === '‚ôî') whiteKing = true;
                    if (board[row][col] === '‚ôö') blackKing = true;
                }
            }
            
            return !whiteKing || !blackKing;
        }

        // UI ÏóÖÎç∞Ïù¥Ìä∏
        function updateUI() {
            const turnIndicator = document.getElementById('turn-indicator');
            const moveCountElement = document.getElementById('move-count');
            
            turnIndicator.textContent = currentPlayer === 'white' ? 'Î∞± Ï∞®Î°Ä' : 'Ìùë Ï∞®Î°Ä';
            turnIndicator.className = `turn-indicator ${currentPlayer}`;
            moveCountElement.textContent = moveCount;
        }

        // Í≤åÏûÑ Ïû¨ÏãúÏûë
        function resetGame() {
            initGame();
        }

        // Î¨¥Î•¥Í∏∞
        function undoMove() {
            if (moveHistory.length > 0) {
                const lastMove = moveHistory.pop();
                board[lastMove.from.row][lastMove.from.col] = lastMove.piece;
                board[lastMove.to.row][lastMove.to.col] = lastMove.captured;
                
                currentPlayer = currentPlayer === 'white' ? 'black' : 'white';
                moveCount--;
                
                selectedPiece = null;
                validMoves = [];
                
                renderBoard();
                updateUI();
            }
        }

        // Í≤åÏûÑ Ïò§Î≤Ñ ÌëúÏãú
        function showGameOver() {
            const winner = currentPlayer === 'white' ? 'Ìùë' : 'Î∞±';
            document.getElementById('winner-text').textContent = `${winner}Ïù¥ ÏäπÎ¶¨ÌñàÏäµÎãàÎã§!`;
            document.getElementById('game-over').style.display = 'flex';
        }

        // Í≤åÏûÑ Ïû¨ÏãúÏûë
        function restartGame() {
            document.getElementById('game-over').style.display = 'none';
            initGame();
        }

        // Í≥µÏú† ÌÖçÏä§Ìä∏ ÏÉùÏÑ±
        function generateShareText() {
            const winner = document.getElementById('winner-text').textContent;
            const moveCount = document.getElementById('move-count').textContent;
            
            return `‚ôî Ï≤¥Ïä§ Í≤åÏûÑ Í≤∞Í≥º!\n\n` +
                   `üèÜ ${winner}\n` +
                   `üìä Ï¥ù Ïù¥Îèô ÌöüÏàò: ${moveCount}Ìöå\n\n` +
                   `üí™ ÎÑàÎèÑ ÎèÑÏ†ÑÌï¥Î¥ê! Ï†ÑÎûµÏ†Å ÏÇ¨Í≥†Î•º ÌÇ§ÏõåÎ≥¥ÏÑ∏Ïöî!\n\n` +
                   `üéÆ Í≤åÏûÑ ÎßÅÌÅ¨: https://onlineminigame.kro.kr/`;
        }

        // ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨
        function copyToClipboard() {
            const shareText = generateShareText();
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(() => {
                    showCopySuccess();
                }).catch(err => {
                    fallbackCopyTextToClipboard(shareText);
                });
            } else {
                fallbackCopyTextToClipboard(shareText);
            }
        }

        // ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨ Ìè¥Î∞± (Íµ¨Ìòï Î∏åÎùºÏö∞Ï†Ä ÏßÄÏõê)
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopySuccess();
            } catch (err) {
                console.error('ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨ Ïã§Ìå®:', err);
            }
            
            document.body.removeChild(textArea);
        }

        // Î≥µÏÇ¨ ÏÑ±Í≥µ Î©îÏãúÏßÄ ÌëúÏãú
        function showCopySuccess() {
            const copySuccess = document.getElementById('copy-success');
            copySuccess.style.display = 'block';
            setTimeout(() => {
                copySuccess.style.display = 'none';
            }, 2000);
        }

        // Í≤åÏûÑ ÏãúÏûë
        initGame();
    </script>
</body>
</html> 