<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì²´ìŠ¤ ê²Œì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            overflow: hidden;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 90%;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
        }

        .turn-indicator {
            font-size: 1.2em;
            font-weight: bold;
        }

        .turn-indicator.white {
            color: #ecf0f1;
        }

        .turn-indicator.black {
            color: #2c3e50;
        }

        .move-count {
            font-size: 1.1em;
        }

        .chess-board {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(8, 1fr);
            gap: 0;
            width: min(560px, 90vw);
            height: min(560px, 90vw);
            margin: 0 auto 20px auto;
            border: 3px solid #8b4513;
            border-radius: 10px;
            overflow: hidden;
            aspect-ratio: 1;
            max-width: 560px;
            max-height: 560px;
        }

        .square {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: min(2.5em, 8vw);
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            -webkit-tap-highlight-color: transparent;
            aspect-ratio: 1;
        }

        .square.white {
            background: #f0d9b5;
        }

        .square.black {
            background: #b58863;
        }

        .square.selected {
            background: #ffd700 !important;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .square.valid-move {
            background: #90ee90 !important;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .square.check {
            background: #ff6b6b !important;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 107, 107, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0); }
        }

        .piece {
            transition: all 0.2s ease;
            user-select: none;
        }

        .piece:hover {
            transform: scale(1.1);
        }

        /* í‘ ê¸°ë¬¼ ìŠ¤íƒ€ì¼ */
        .piece.black {
            color: #2c3e50;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        /* ë°± ê¸°ë¬¼ ìŠ¤íƒ€ì¼ */
        .piece.white {
            color: #ecf0f1;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            min-height: 44px;
            touch-action: manipulation;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .music-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 1.5em;
            color: white;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .music-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 768px) {
            .game-container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
                margin-bottom: 15px;
            }
            
            .game-info {
                padding: 12px;
                margin-bottom: 15px;
            }
            
            .turn-indicator {
                font-size: 1.1em;
            }
            
            .move-count {
                font-size: 1em;
            }
            
            .chess-board {
                width: min(500px, 95vw);
                height: min(500px, 95vw);
                margin: 0 auto 15px auto;
                aspect-ratio: 1;
            }
            
            .square {
                font-size: min(2.2em, 10vw);
            }
            
            .controls {
                gap: 10px;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9em;
                min-height: 48px;
            }
        }

        @media (max-width: 480px) {
            .chess-board {
                width: 95vw;
                height: 95vw;
                aspect-ratio: 1;
            }
            
            .square {
                font-size: min(1.8em, 12vw);
            }
            
            .btn {
                padding: 8px 16px;
                font-size: 0.85em;
            }
        }

        .game-over {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .game-over-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .game-over h2 {
            font-size: 2em;
            margin-bottom: 20px;
        }

        .winner {
            font-size: 1.5em;
            margin-bottom: 30px;
            color: #f9ca24;
        }

        .share-section {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }

        .share-title {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #f9ca24;
        }

        .share-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            background: #2196F3;
            color: white;
        }

        .share-btn:hover {
            background: #1976D2;
            transform: translateY(-2px);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 1.1em;
            z-index: 2000;
            display: none;
        }


    </style>
</head>
<body>
    <button class="music-toggle" onclick="toggleMusic()">ğŸµ</button>
    
    <div class="game-container">
        
        <div class="game-info">
            <div class="turn-indicator" id="turn-indicator">ë°± ì°¨ë¡€</div>
            <div class="move-count">ì´ë™ íšŸìˆ˜: <span id="move-count">0</span></div>
        </div>
        
        <div class="chess-board" id="chess-board"></div>
        
        <div class="controls">
            <button class="btn btn-primary" onclick="resetGame()">ìƒˆ ê²Œì„</button>
            <button class="btn btn-secondary" onclick="undoMove()">ë¬´ë¥´ê¸°</button>
            <a href="../../index.html" class="btn btn-secondary">ë©”ì¸ìœ¼ë¡œ</a>
        </div>
    </div>

    <div class="game-over" id="game-over">
        <div class="game-over-content">
            <h2>ê²Œì„ ì¢…ë£Œ!</h2>
            <div class="winner" id="winner-text">ë°±ì´ ìŠ¹ë¦¬í–ˆìŠµë‹ˆë‹¤!</div>
            <div class="controls">
                <button class="btn btn-primary" onclick="restartGame()">ë‹¤ì‹œ í•˜ê¸°</button>
                <a href="../../index.html" class="btn btn-secondary">ë‹¤ë¥¸ ê²Œì„</a>
            </div>
            
            <div class="share-section">
                <div class="share-title">ğŸ¯ ì¹œêµ¬ë“¤ì—ê²Œ ë„ì „í•´ë³´ì„¸ìš”!</div>
                <button class="share-btn" onclick="copyToClipboard()">
                    ğŸ“‹ ê²°ê³¼ ë³µì‚¬í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copy-success">
        í…ìŠ¤íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“‹
    </div>
        </div>
    </div>

    <audio id="bgMusic" loop>
        <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/wav">
    </audio>

    <script>
        // ì²´ìŠ¤ ê²Œì„ ìƒíƒœ
        let board = [];
        let selectedPiece = null;
        let validMoves = [];
        let currentPlayer = 'white';
        let moveCount = 0;
        let moveHistory = [];
        let musicPlaying = false;

        // ì²´ìŠ¤ ê¸°ë¬¼ ì´ˆê¸° ë°°ì¹˜
        const initialBoard = [
            ['â™œ', 'â™', 'â™', 'â™›', 'â™š', 'â™', 'â™', 'â™œ'],
            ['â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ', 'â™Ÿ'],
            ['', '', '', '', '', '', '', ''],
            ['', '', '', '', '', '', '', ''],
            ['', '', '', '', '', '', '', ''],
            ['', '', '', '', '', '', '', ''],
            ['â™™', 'â™™', 'â™™', 'â™™', 'â™™', 'â™™', 'â™™', 'â™™'],
            ['â™–', 'â™˜', 'â™—', 'â™•', 'â™”', 'â™—', 'â™˜', 'â™–']
        ];

        // ê¸°ë¬¼ ì •ë³´
        const pieces = {
            'â™”': { name: 'ë°± í‚¹', color: 'white', value: 1000 },
            'â™•': { name: 'ë°± í€¸', color: 'white', value: 9 },
            'â™–': { name: 'ë°± ë£©', color: 'white', value: 5 },
            'â™—': { name: 'ë°± ë¹„ìˆ', color: 'white', value: 3 },
            'â™˜': { name: 'ë°± ë‚˜ì´íŠ¸', color: 'white', value: 3 },
            'â™™': { name: 'ë°± í°', color: 'white', value: 1 },
            'â™š': { name: 'í‘ í‚¹', color: 'black', value: 1000 },
            'â™›': { name: 'í‘ í€¸', color: 'black', value: 9 },
            'â™œ': { name: 'í‘ ë£©', color: 'black', value: 5 },
            'â™': { name: 'í‘ ë¹„ìˆ', color: 'black', value: 3 },
            'â™': { name: 'í‘ ë‚˜ì´íŠ¸', color: 'black', value: 3 },
            'â™Ÿ': { name: 'í‘ í°', color: 'black', value: 1 }
        };

        // ê°œë°œì ë„êµ¬ ì°¨ë‹¨
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I') || 
                (e.ctrlKey && e.shiftKey && e.key === 'C') || (e.ctrlKey && e.key === 'U')) {
                e.preventDefault();
                return false;
            }
        });

        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // ìŒì•… í† ê¸€
        function toggleMusic() {
            const music = document.getElementById('bgMusic');
            if (musicPlaying) {
                music.pause();
                musicPlaying = false;
            } else {
                music.play();
                musicPlaying = true;
            }
        }

        // ê²Œì„ ì´ˆê¸°í™”
        function initGame() {
            board = JSON.parse(JSON.stringify(initialBoard));
            selectedPiece = null;
            validMoves = [];
            currentPlayer = 'white';
            moveCount = 0;
            moveHistory = [];
            renderBoard();
            updateUI();
        }

        // ë³´ë“œ ë Œë”ë§
        function renderBoard() {
            const boardElement = document.getElementById('chess-board');
            boardElement.innerHTML = '';

            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = `square ${(row + col) % 2 === 0 ? 'white' : 'black'}`;
                    square.dataset.row = row;
                    square.dataset.col = col;

                    const piece = board[row][col];
                    if (piece) {
                        const pieceElement = document.createElement('div');
                        pieceElement.className = `piece ${pieces[piece].color}`;
                        pieceElement.textContent = piece;
                        square.appendChild(pieceElement);
                    }

                    // ì„ íƒëœ ê¸°ë¬¼ í•˜ì´ë¼ì´íŠ¸
                    if (selectedPiece && selectedPiece.row === row && selectedPiece.col === col) {
                        square.classList.add('selected');
                    }

                    // ìœ íš¨í•œ ì´ë™ ìœ„ì¹˜ í•˜ì´ë¼ì´íŠ¸
                    if (validMoves.some(move => move.row === row && move.col === col)) {
                        square.classList.add('valid-move');
                    }

                    square.addEventListener('click', () => handleSquareClick(row, col));
                    boardElement.appendChild(square);
                }
            }
        }

        // ì‚¬ê°í˜• í´ë¦­ ì²˜ë¦¬
        function handleSquareClick(row, col) {
            const piece = board[row][col];
            
            // ê¸°ë¬¼ ì„ íƒ
            if (piece && pieces[piece].color === currentPlayer) {
                selectedPiece = { row, col, piece };
                validMoves = getValidMoves(row, col);
                renderBoard();
                return;
            }

            // ì´ë™ ì‹¤í–‰
            if (selectedPiece && validMoves.some(move => move.row === row && move.col === col)) {
                const fromRow = selectedPiece.row;
                const fromCol = selectedPiece.col;
                const capturedPiece = board[row][col];

                // ì´ë™ ê¸°ë¡
                moveHistory.push({
                    from: { row: fromRow, col: fromCol },
                    to: { row, col },
                    piece: selectedPiece.piece,
                    captured: capturedPiece
                });

                // ê¸°ë¬¼ ì´ë™
                board[row][col] = selectedPiece.piece;
                board[fromRow][fromCol] = '';

                // í° ìŠ¹ê¸‰
                if (selectedPiece.piece === 'â™™' && row === 0) {
                    board[row][col] = 'â™•';
                } else if (selectedPiece.piece === 'â™Ÿ' && row === 7) {
                    board[row][col] = 'â™›';
                }

                selectedPiece = null;
                validMoves = [];
                currentPlayer = currentPlayer === 'white' ? 'black' : 'white';
                moveCount++;

                renderBoard();
                updateUI();

                // ì²´í¬ë©”ì´íŠ¸ í™•ì¸
                if (isCheckmate()) {
                    showGameOver();
                }
            }
        }

        // ìœ íš¨í•œ ì´ë™ ìœ„ì¹˜ ê³„ì‚°
        function getValidMoves(row, col) {
            const piece = board[row][col];
            if (!piece) return [];

            const moves = [];
            const pieceInfo = pieces[piece];

            switch (piece) {
                case 'â™”': // ë°± í‚¹
                case 'â™š': // í‘ í‚¹
                    for (let dr = -1; dr <= 1; dr++) {
                        for (let dc = -1; dc <= 1; dc++) {
                            if (dr === 0 && dc === 0) continue;
                            const newRow = row + dr;
                            const newCol = col + dc;
                            if (isValidPosition(newRow, newCol) && canMoveTo(newRow, newCol, pieceInfo.color)) {
                                moves.push({ row: newRow, col: newCol });
                            }
                        }
                    }
                    break;

                case 'â™•': // ë°± í€¸
                case 'â™›': // í‘ í€¸
                    moves.push(...getRookMoves(row, col, pieceInfo.color));
                    moves.push(...getBishopMoves(row, col, pieceInfo.color));
                    break;

                case 'â™–': // ë°± ë£©
                case 'â™œ': // í‘ ë£©
                    moves.push(...getRookMoves(row, col, pieceInfo.color));
                    break;

                case 'â™—': // ë°± ë¹„ìˆ
                case 'â™': // í‘ ë¹„ìˆ
                    moves.push(...getBishopMoves(row, col, pieceInfo.color));
                    break;

                case 'â™˜': // ë°± ë‚˜ì´íŠ¸
                case 'â™': // í‘ ë‚˜ì´íŠ¸
                    const knightMoves = [
                        [-2, -1], [-2, 1], [-1, -2], [-1, 2],
                        [1, -2], [1, 2], [2, -1], [2, 1]
                    ];
                    for (const [dr, dc] of knightMoves) {
                        const newRow = row + dr;
                        const newCol = col + dc;
                        if (isValidPosition(newRow, newCol) && canMoveTo(newRow, newCol, pieceInfo.color)) {
                            moves.push({ row: newRow, col: newCol });
                        }
                    }
                    break;

                case 'â™™': // ë°± í°
                    if (row > 0 && board[row - 1][col] === '') {
                        moves.push({ row: row - 1, col });
                        if (row === 6 && board[row - 2][col] === '') {
                            moves.push({ row: row - 2, col });
                        }
                    }
                    // ëŒ€ê°ì„  ê³µê²©
                    for (const dc of [-1, 1]) {
                        const newCol = col + dc;
                        if (isValidPosition(row - 1, newCol) && 
                            board[row - 1][newCol] && 
                            pieces[board[row - 1][newCol]].color === 'black') {
                            moves.push({ row: row - 1, col: newCol });
                        }
                    }
                    break;

                case 'â™Ÿ': // í‘ í°
                    if (row < 7 && board[row + 1][col] === '') {
                        moves.push({ row: row + 1, col });
                        if (row === 1 && board[row + 2][col] === '') {
                            moves.push({ row: row + 2, col });
                        }
                    }
                    // ëŒ€ê°ì„  ê³µê²©
                    for (const dc of [-1, 1]) {
                        const newCol = col + dc;
                        if (isValidPosition(row + 1, newCol) && 
                            board[row + 1][newCol] && 
                            pieces[board[row + 1][newCol]].color === 'white') {
                            moves.push({ row: row + 1, col: newCol });
                        }
                    }
                    break;
            }

            return moves;
        }

        // ë£© ì´ë™
        function getRookMoves(row, col, color) {
            const moves = [];
            const directions = [[-1, 0], [1, 0], [0, -1], [0, 1]];
            
            for (const [dr, dc] of directions) {
                let newRow = row + dr;
                let newCol = col + dc;
                
                while (isValidPosition(newRow, newCol)) {
                    const targetPiece = board[newRow][newCol];
                    if (targetPiece === '') {
                        moves.push({ row: newRow, col: newCol });
                    } else {
                        if (pieces[targetPiece].color !== color) {
                            moves.push({ row: newRow, col: newCol });
                        }
                        break;
                    }
                    newRow += dr;
                    newCol += dc;
                }
            }
            
            return moves;
        }

        // ë¹„ìˆ ì´ë™
        function getBishopMoves(row, col, color) {
            const moves = [];
            const directions = [[-1, -1], [-1, 1], [1, -1], [1, 1]];
            
            for (const [dr, dc] of directions) {
                let newRow = row + dr;
                let newCol = col + dc;
                
                while (isValidPosition(newRow, newCol)) {
                    const targetPiece = board[newRow][newCol];
                    if (targetPiece === '') {
                        moves.push({ row: newRow, col: newCol });
                    } else {
                        if (pieces[targetPiece].color !== color) {
                            moves.push({ row: newRow, col: newCol });
                        }
                        break;
                    }
                    newRow += dr;
                    newCol += dc;
                }
            }
            
            return moves;
        }

        // ìœ„ì¹˜ ìœ íš¨ì„± ê²€ì‚¬
        function isValidPosition(row, col) {
            return row >= 0 && row < 8 && col >= 0 && col < 8;
        }

        // ì´ë™ ê°€ëŠ¥ì„± ê²€ì‚¬
        function canMoveTo(row, col, color) {
            const targetPiece = board[row][col];
            return !targetPiece || pieces[targetPiece].color !== color;
        }

        // ì²´í¬ë©”ì´íŠ¸ í™•ì¸ (ê°„ë‹¨í•œ ë²„ì „)
        function isCheckmate() {
            // í‚¹ì´ ì¡í˜”ëŠ”ì§€ í™•ì¸
            let whiteKing = false;
            let blackKing = false;
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    if (board[row][col] === 'â™”') whiteKing = true;
                    if (board[row][col] === 'â™š') blackKing = true;
                }
            }
            
            return !whiteKing || !blackKing;
        }

        // UI ì—…ë°ì´íŠ¸
        function updateUI() {
            const turnIndicator = document.getElementById('turn-indicator');
            const moveCountElement = document.getElementById('move-count');
            
            turnIndicator.textContent = currentPlayer === 'white' ? 'ë°± ì°¨ë¡€' : 'í‘ ì°¨ë¡€';
            turnIndicator.className = `turn-indicator ${currentPlayer}`;
            moveCountElement.textContent = moveCount;
        }

        // ê²Œì„ ì¬ì‹œì‘
        function resetGame() {
            initGame();
        }

        // ë¬´ë¥´ê¸°
        function undoMove() {
            if (moveHistory.length > 0) {
                const lastMove = moveHistory.pop();
                board[lastMove.from.row][lastMove.from.col] = lastMove.piece;
                board[lastMove.to.row][lastMove.to.col] = lastMove.captured;
                
                currentPlayer = currentPlayer === 'white' ? 'black' : 'white';
                moveCount--;
                
                selectedPiece = null;
                validMoves = [];
                
                renderBoard();
                updateUI();
            }
        }

        // ê²Œì„ ì˜¤ë²„ í‘œì‹œ
        function showGameOver() {
            const winner = currentPlayer === 'white' ? 'í‘' : 'ë°±';
            document.getElementById('winner-text').textContent = `${winner}ì´ ìŠ¹ë¦¬í–ˆìŠµë‹ˆë‹¤!`;
            document.getElementById('game-over').style.display = 'flex';
        }

        // ê²Œì„ ì¬ì‹œì‘
        function restartGame() {
            document.getElementById('game-over').style.display = 'none';
            initGame();
        }

        // ê³µìœ  í…ìŠ¤íŠ¸ ìƒì„±
        function generateShareText() {
            const winner = document.getElementById('winner-text').textContent;
            const moveCount = document.getElementById('move-count').textContent;
            
            return `â™” ì²´ìŠ¤ ê²Œì„ ê²°ê³¼!\n\n` +
                   `ğŸ† ${winner}\n` +
                   `ğŸ“Š ì´ ì´ë™ íšŸìˆ˜: ${moveCount}íšŒ\n\n` +
                   `ğŸ’ª ë„ˆë„ ë„ì „í•´ë´! ì „ëµì  ì‚¬ê³ ë¥¼ í‚¤ì›Œë³´ì„¸ìš”!\n\n` +
                   `ğŸ® ê²Œì„ ë§í¬: ${window.location.origin}${window.location.pathname.replace('/chess/index.html', '')}/index.html`;
        }

        // í´ë¦½ë³´ë“œ ë³µì‚¬
        function copyToClipboard() {
            const shareText = generateShareText();
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(() => {
                    showCopySuccess();
                }).catch(err => {
                    fallbackCopyTextToClipboard(shareText);
                });
            } else {
                fallbackCopyTextToClipboard(shareText);
            }
        }

        // í´ë¦½ë³´ë“œ ë³µì‚¬ í´ë°± (êµ¬í˜• ë¸Œë¼ìš°ì € ì§€ì›)
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopySuccess();
            } catch (err) {
                console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
            }
            
            document.body.removeChild(textArea);
        }

        // ë³µì‚¬ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
        function showCopySuccess() {
            const copySuccess = document.getElementById('copy-success');
            copySuccess.style.display = 'block';
            setTimeout(() => {
                copySuccess.style.display = 'none';
            }, 2000);
        }

        // ê²Œì„ ì‹œì‘
        initGame();
    </script>
</body>
</html> 